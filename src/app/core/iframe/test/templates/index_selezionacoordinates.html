<!DOCTYPE html>
<html lang="en" style="width: 100%; height: 100%">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body style="width:100%; height: 100%; margin: 0;">
  <iframe style="width: 100%; height: 100%; border: 0;" src="http://192.168.1.2:3000/?project=test-iframe/qdjango/62"></iframe>
</body>
<script>
  const iframe = document.querySelector('iframe');
  const getMessage = evt=>{
    console.log(evt)
    const {action} = evt.data;
    if (action === "app:ready") {
      iframe.contentWindow.postMessage({
        action: 'app:zoomtofeature',
        params: {
          qgis_layer_id: 'edifici20180829155021867',
          feature: {
            field: 'id',
            value: 17
          },
        }
      }, '*')
    }
  };
  if (window.addEventListener) window.addEventListener("message", getMessage, false);
  else window.attachEvent("onmessage", getMessage());
</script>
</html>
